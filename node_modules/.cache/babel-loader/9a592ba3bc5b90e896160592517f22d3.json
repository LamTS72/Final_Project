{"ast":null,"code":"import { quanLyPhimService } from '../services/QuanLyPhimService';\nimport { SET_CHI_TIET_CUM_RAP, SET_CHI_TIET_PHIM_THEO_NGAY, SET_CHI_TIET_PHONG_VE, SET_FILM, SET_FILM_DETAIL, TIM_KIEM_PHIM } from './types/FilmType';\nimport { history } from '../App';\nexport const getApiFilmAction = maNhom => {\n  return async dispatch => {\n    try {\n      var result = await quanLyPhimService.layDanhSachPhim(maNhom); // sau khi lay du lieu tu API ve dua len redux\n\n      const action = {\n        type: SET_FILM,\n        dataFilms: result.data\n      };\n      dispatch(action);\n    } catch (errors) {\n      var _errors$response;\n\n      console.log('errors', (_errors$response = errors.response) === null || _errors$response === void 0 ? void 0 : _errors$response.data);\n    }\n  };\n};\nexport const getFilmDetailAction = maPhim => {\n  return async dispatch => {\n    try {\n      const result = await quanLyPhimService.layChiTietPhim(maPhim); // dua du lieu len redux\n\n      dispatch({\n        type: SET_FILM_DETAIL,\n        thongTinChiTiet: result.data\n      });\n    } catch (err) {\n      var _err$response;\n\n      console.log((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data);\n    }\n  };\n};\nexport const layChiTietPhongVe = maLichChieu => {\n  return async dispatch => {\n    try {\n      const result = await quanLyPhimService.layChiTietPhongVe(maLichChieu); // dua du lieu len redux\n\n      dispatch({\n        type: SET_CHI_TIET_PHONG_VE,\n        chiTietPhongVe: result.data\n      });\n    } catch (err) {\n      var _err$response2;\n\n      console.log((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data);\n    }\n  };\n};\nexport const layChiTietLichChieuNgay = maNhom => {\n  return async dispatch => {\n    try {\n      const result = await quanLyPhimService.layChiTietPhimTheoNgay(maNhom); // dua du lieu len redux\n\n      dispatch({\n        type: SET_CHI_TIET_PHIM_THEO_NGAY,\n        thongTinLichChieuNgay: result.data\n      });\n    } catch (err) {\n      var _err$response3;\n\n      console.log((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data);\n    }\n  };\n};\nexport const timKiemPhimAction = tenPhim => {\n  return async dispatch => {\n    try {\n      const result = await quanLyPhimService.timKiemPhim(tenPhim); // đưa dữ liệu lên redux\n\n      dispatch({\n        type: TIM_KIEM_PHIM,\n        danhSachPhimTimKiem: result.data\n      });\n    } catch (err) {\n      var _err$response4;\n\n      alert((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.data);\n    }\n  };\n};\nexport const themPhimAction = formData => {\n  return async dispatch => {\n    try {\n      const result = await quanLyPhimService.themPhim(formData);\n      alert('Thêm phim thành công !'); // quay về trang phim\n\n      history.replace(\"/admin/films\");\n    } catch (err) {\n      var _err$response5;\n\n      console.log((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : _err$response5.data);\n    }\n  };\n};\nexport const xoaPhimAction = maPhim => {\n  return async dispatch => {\n    try {\n      const result = await quanLyPhimService.xoaPhim(maPhim);\n      alert('Xóa phim thành công !'); // load lại trang\n\n      dispatch(getApiFilmAction(\"GP01\"));\n    } catch (err) {\n      var _err$response6, _err$response7;\n\n      console.log((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : _err$response6.data);\n      alert((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : _err$response7.data);\n    }\n  };\n};\nexport const layThongTinCumRapTheoHeThong = maHeThongRap => {\n  return async dispatch => {\n    try {\n      const result = await quanLyPhimService.layThongTinCumRapTheoHeTHong(maHeThongRap);\n      dispatch({\n        type: SET_CHI_TIET_CUM_RAP,\n        danhSachHeThongRap: result.data\n      });\n    } catch (error) {\n      var _error$response;\n\n      console.log('error', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n    }\n  };\n};\nexport const themLichChieuAction = formData => {\n  return async dispatch => {\n    try {\n      const result = await quanLyPhimService.themLichChieu(formData);\n      alert('Thêm lịch chiếu thành công !');\n    } catch (error) {\n      var _error$response2;\n\n      console.log((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n    }\n  };\n};\nexport const capNhatPhimAction = formData => {\n  return async dispatch => {\n    try {\n      const result = await quanLyPhimService.capNhatPhim(formData);\n      alert('Cập nhật phim thành công !'); // quay lại quản lý phim\n\n      history.replace(\"/admin/films\"); // load lại trang\n\n      dispatch(getApiFilmAction(\"GP01\"));\n    } catch (err) {\n      var _err$response8, _err$response9;\n\n      console.log((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : _err$response8.data);\n      alert((_err$response9 = err.response) === null || _err$response9 === void 0 ? void 0 : _err$response9.data);\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/AMD/OneDrive/Desktop/SE_project-1-main/src/action/FilmAction.js"],"names":["quanLyPhimService","SET_CHI_TIET_CUM_RAP","SET_CHI_TIET_PHIM_THEO_NGAY","SET_CHI_TIET_PHONG_VE","SET_FILM","SET_FILM_DETAIL","TIM_KIEM_PHIM","history","getApiFilmAction","maNhom","dispatch","result","layDanhSachPhim","action","type","dataFilms","data","errors","console","log","response","getFilmDetailAction","maPhim","layChiTietPhim","thongTinChiTiet","err","layChiTietPhongVe","maLichChieu","chiTietPhongVe","layChiTietLichChieuNgay","layChiTietPhimTheoNgay","thongTinLichChieuNgay","timKiemPhimAction","tenPhim","timKiemPhim","danhSachPhimTimKiem","alert","themPhimAction","formData","themPhim","replace","xoaPhimAction","xoaPhim","layThongTinCumRapTheoHeThong","maHeThongRap","layThongTinCumRapTheoHeTHong","danhSachHeThongRap","error","themLichChieuAction","themLichChieu","capNhatPhimAction","capNhatPhim"],"mappings":"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","sourcesContent":["import { quanLyPhimService } from '../services/QuanLyPhimService';\nimport { SET_CHI_TIET_CUM_RAP, SET_CHI_TIET_PHIM_THEO_NGAY, SET_CHI_TIET_PHONG_VE, SET_FILM, SET_FILM_DETAIL,TIM_KIEM_PHIM } from './types/FilmType';\nimport { history } from '../App';\n\n\nexport const getApiFilmAction = (maNhom) =>{\n    return async (dispatch) =>{\n        try {\n            var result = await quanLyPhimService.layDanhSachPhim(maNhom);\n            // sau khi lay du lieu tu API ve dua len redux\n            const action = {\n                type:SET_FILM,\n                dataFilms: result.data\n            }\n            dispatch(action)\n        } catch (errors) {\n            console.log('errors', errors.response?.data);\n        }\n    }\n}\n\n\nexport const getFilmDetailAction = (maPhim) => {\n    return async dispatch => {\n        try{\n            const result = await quanLyPhimService.layChiTietPhim(maPhim);    \n            // dua du lieu len redux\n            dispatch({\n                type:SET_FILM_DETAIL,\n                thongTinChiTiet:result.data\n            })\n\n        }catch(err){\n            console.log(err.response?.data)\n        }\n    }\n}\n\nexport const layChiTietPhongVe = (maLichChieu) => {\n    return async dispatch => {\n        try {\n            const result = await quanLyPhimService.layChiTietPhongVe(maLichChieu);\n            // dua du lieu len redux\n            dispatch({\n                type: SET_CHI_TIET_PHONG_VE,\n                chiTietPhongVe:result.data\n            })   \n        }catch (err){\n            console.log(err.response?.data);\n        }\n    }\n}\n\nexport const layChiTietLichChieuNgay = (maNhom) => {\n    return async dispatch => {\n        try {\n            const result = await quanLyPhimService.layChiTietPhimTheoNgay(maNhom);\n            // dua du lieu len redux\n            dispatch({\n                type: SET_CHI_TIET_PHIM_THEO_NGAY,\n                thongTinLichChieuNgay:result.data\n            })   \n        }catch (err){\n            console.log(err.response?.data);\n        }\n    }\n}\n\nexport const timKiemPhimAction = (tenPhim) => {\n    return async dispatch => {\n        try{\n            const result = await quanLyPhimService.timKiemPhim(tenPhim);\n            \n            // đưa dữ liệu lên redux\n            dispatch({\n                type:TIM_KIEM_PHIM,\n                danhSachPhimTimKiem: result.data\n            })\n           \n\n        }catch (err){\n            alert(err.response?.data)\n        }\n    }\n}\n\nexport const themPhimAction = (formData) =>{\n    return async dispatch =>{\n        try{\n            const result = await quanLyPhimService.themPhim(formData);\n            alert('Thêm phim thành công !');\n            // quay về trang phim\n            history.replace(\"/admin/films\");\n        }catch (err){\n            console.log(err.response?.data)\n        }\n    }\n}\n\n\nexport const xoaPhimAction = (maPhim) => {\n    return async dispatch =>{\n        try{\n            const result = await quanLyPhimService.xoaPhim(maPhim);\n            alert('Xóa phim thành công !');\n\n            // load lại trang\n            dispatch(getApiFilmAction(\"GP01\"));\n        }catch (err){\n            console.log(err.response?.data)\n            alert(err.response?.data)\n        }\n    }\n}\n\nexport const layThongTinCumRapTheoHeThong = (maHeThongRap) => {\n    return async dispatch => {\n        try{\n            const result = await quanLyPhimService.layThongTinCumRapTheoHeTHong(maHeThongRap);\n            dispatch({\n                type: SET_CHI_TIET_CUM_RAP,\n                danhSachHeThongRap: result.data\n            })\n        }catch(error){\n            console.log('error',error.response?.data);\n        }\n    }\n\n}\n\nexport const themLichChieuAction = (formData) =>{\n    return async dispatch => {\n        try{\n            const result = await quanLyPhimService.themLichChieu(formData);\n            alert('Thêm lịch chiếu thành công !');\n        }catch(error){\n            console.log(error.response?.data);\n        }\n    }\n}\n\nexport const capNhatPhimAction = (formData) => {\n    return async dispatch =>{\n        try{\n            const result = await quanLyPhimService.capNhatPhim(formData);\n            alert('Cập nhật phim thành công !');\n            // quay lại quản lý phim\n            history.replace(\"/admin/films\");\n            // load lại trang\n            dispatch(getApiFilmAction(\"GP01\"));\n            \n        }catch (err){\n            console.log(err.response?.data)\n            alert(err.response?.data)\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}